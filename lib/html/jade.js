'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _compilerBase = require('../compiler-base');

const inputMimeTypes = ['text/jade'];
let jade = null;

/**
 * @access private
 */
class JadeCompiler extends _compilerBase.SimpleCompilerBase {
  constructor() {
    super();
    this.compilerOptions.sourceMap = true;
  }

  static getInputMimeTypes() {
    return inputMimeTypes;
  }

  static getOutputMimeType() {
    return 'text/html';
  }

  compileSync(sourceCode, filePath) {
    jade = jade || require('jade');

    let code = jade.render(sourceCode, Object.assign({ filename: filePath, cache: false }, this.compilerOptions));

    return { code, mimeType: 'text/html' };
  }

  getCompilerVersion() {
    return require('jade/package.json').version;
  }
}
exports.default = JadeCompiler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9odG1sL2phZGUuanMiXSwibmFtZXMiOlsiaW5wdXRNaW1lVHlwZXMiLCJqYWRlIiwiSmFkZUNvbXBpbGVyIiwiY29uc3RydWN0b3IiLCJjb21waWxlck9wdGlvbnMiLCJzb3VyY2VNYXAiLCJnZXRJbnB1dE1pbWVUeXBlcyIsImdldE91dHB1dE1pbWVUeXBlIiwiY29tcGlsZVN5bmMiLCJzb3VyY2VDb2RlIiwiZmlsZVBhdGgiLCJyZXF1aXJlIiwiY29kZSIsInJlbmRlciIsIk9iamVjdCIsImFzc2lnbiIsImZpbGVuYW1lIiwiY2FjaGUiLCJtaW1lVHlwZSIsImdldENvbXBpbGVyVmVyc2lvbiIsInZlcnNpb24iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGlCQUFpQixDQUFDLFdBQUQsQ0FBdkI7QUFDQSxJQUFJQyxPQUFPLElBQVg7O0FBRUE7OztBQUdlLE1BQU1DLFlBQU4sMENBQThDO0FBQzNEQyxnQkFBYztBQUNaO0FBQ0EsU0FBS0MsZUFBTCxDQUFxQkMsU0FBckIsR0FBaUMsSUFBakM7QUFDRDs7QUFFRCxTQUFPQyxpQkFBUCxHQUEyQjtBQUN6QixXQUFPTixjQUFQO0FBQ0Q7O0FBRUQsU0FBT08saUJBQVAsR0FBMkI7QUFDekIsV0FBTyxXQUFQO0FBQ0Q7O0FBRURDLGNBQVlDLFVBQVosRUFBd0JDLFFBQXhCLEVBQWtDO0FBQ2hDVCxXQUFPQSxRQUFRVSxRQUFRLE1BQVIsQ0FBZjs7QUFFQSxRQUFJQyxPQUFPWCxLQUFLWSxNQUFMLENBQ1RKLFVBRFMsRUFFVEssT0FBT0MsTUFBUCxDQUFjLEVBQUVDLFVBQVVOLFFBQVosRUFBc0JPLE9BQU8sS0FBN0IsRUFBZCxFQUFvRCxLQUFLYixlQUF6RCxDQUZTLENBQVg7O0FBSUEsV0FBTyxFQUFFUSxJQUFGLEVBQVFNLFVBQVUsV0FBbEIsRUFBUDtBQUNEOztBQUVEQyx1QkFBcUI7QUFDbkIsV0FBT1IsUUFBUSxtQkFBUixFQUE2QlMsT0FBcEM7QUFDRDtBQTFCMEQ7a0JBQXhDbEIsWSIsImZpbGUiOiJqYWRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTaW1wbGVDb21waWxlckJhc2V9IGZyb20gJy4uL2NvbXBpbGVyLWJhc2UnO1xuXG5jb25zdCBpbnB1dE1pbWVUeXBlcyA9IFsndGV4dC9qYWRlJ107XG5sZXQgamFkZSA9IG51bGw7XG5cbi8qKlxuICogQGFjY2VzcyBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEphZGVDb21waWxlciBleHRlbmRzIFNpbXBsZUNvbXBpbGVyQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb21waWxlck9wdGlvbnMuc291cmNlTWFwID0gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnB1dE1pbWVUeXBlcygpIHtcbiAgICByZXR1cm4gaW5wdXRNaW1lVHlwZXM7XG4gIH1cblxuICBzdGF0aWMgZ2V0T3V0cHV0TWltZVR5cGUoKSB7XG4gICAgcmV0dXJuICd0ZXh0L2h0bWwnO1xuICB9XG5cbiAgY29tcGlsZVN5bmMoc291cmNlQ29kZSwgZmlsZVBhdGgpIHtcbiAgICBqYWRlID0gamFkZSB8fCByZXF1aXJlKCdqYWRlJyk7XG5cbiAgICBsZXQgY29kZSA9IGphZGUucmVuZGVyKFxuICAgICAgc291cmNlQ29kZSxcbiAgICAgIE9iamVjdC5hc3NpZ24oeyBmaWxlbmFtZTogZmlsZVBhdGgsIGNhY2hlOiBmYWxzZSB9LCB0aGlzLmNvbXBpbGVyT3B0aW9ucykpO1xuXG4gICAgcmV0dXJuIHsgY29kZSwgbWltZVR5cGU6ICd0ZXh0L2h0bWwnIH07XG4gIH1cbiAgXG4gIGdldENvbXBpbGVyVmVyc2lvbigpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgnamFkZS9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICB9XG59XG4iXX0=