'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _compilerBase = require('../compiler-base');

const inputMimeTypes = ['text/cson'];
let CSON = null;

/**
 * @access private
 */
class CSONCompiler extends _compilerBase.SimpleCompilerBase {
  constructor() {
    super();
  }

  static getInputMimeTypes() {
    return inputMimeTypes;
  }

  static getOutputMimeType() {
    return 'application/json';
  }

  compileSync(sourceCode, filePath) {
    CSON = CSON || require('cson');
    let result = CSON.parse(sourceCode);
    return {
      code: JSON.stringify(result),
      mimeType: 'application/json'
    };
  }

  getCompilerVersion() {
    return require('cson/package.json').version;
  }
}
exports.default = CSONCompiler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qc29uL2Nzb24uanMiXSwibmFtZXMiOlsiaW5wdXRNaW1lVHlwZXMiLCJDU09OIiwiQ1NPTkNvbXBpbGVyIiwiY29uc3RydWN0b3IiLCJnZXRJbnB1dE1pbWVUeXBlcyIsImdldE91dHB1dE1pbWVUeXBlIiwiY29tcGlsZVN5bmMiLCJzb3VyY2VDb2RlIiwiZmlsZVBhdGgiLCJyZXF1aXJlIiwicmVzdWx0IiwicGFyc2UiLCJjb2RlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1pbWVUeXBlIiwiZ2V0Q29tcGlsZXJWZXJzaW9uIiwidmVyc2lvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsaUJBQWlCLENBQUMsV0FBRCxDQUF2QjtBQUNBLElBQUlDLE9BQU8sSUFBWDs7QUFFQTs7O0FBR2UsTUFBTUMsWUFBTiwwQ0FBOEM7QUFDM0RDLGdCQUFjO0FBQ1o7QUFDRDs7QUFFRCxTQUFPQyxpQkFBUCxHQUEyQjtBQUN6QixXQUFPSixjQUFQO0FBQ0Q7O0FBRUQsU0FBT0ssaUJBQVAsR0FBMkI7QUFDekIsV0FBTyxrQkFBUDtBQUNEOztBQUVEQyxjQUFZQyxVQUFaLEVBQXdCQyxRQUF4QixFQUFrQztBQUNoQ1AsV0FBT0EsUUFBUVEsUUFBUSxNQUFSLENBQWY7QUFDQSxRQUFJQyxTQUFTVCxLQUFLVSxLQUFMLENBQVdKLFVBQVgsQ0FBYjtBQUNBLFdBQU87QUFDTEssWUFBTUMsS0FBS0MsU0FBTCxDQUFlSixNQUFmLENBREQ7QUFFTEssZ0JBQVU7QUFGTCxLQUFQO0FBSUQ7O0FBRURDLHVCQUFxQjtBQUNuQixXQUFPUCxRQUFRLG1CQUFSLEVBQTZCUSxPQUFwQztBQUNEO0FBeEIwRDtrQkFBeENmLFkiLCJmaWxlIjoiY3Nvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U2ltcGxlQ29tcGlsZXJCYXNlfSBmcm9tICcuLi9jb21waWxlci1iYXNlJztcblxuY29uc3QgaW5wdXRNaW1lVHlwZXMgPSBbJ3RleHQvY3NvbiddO1xubGV0IENTT04gPSBudWxsO1xuXG4vKipcbiAqIEBhY2Nlc3MgcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDU09OQ29tcGlsZXIgZXh0ZW5kcyBTaW1wbGVDb21waWxlckJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc3RhdGljIGdldElucHV0TWltZVR5cGVzKCkge1xuICAgIHJldHVybiBpbnB1dE1pbWVUeXBlcztcbiAgfVxuXG4gIHN0YXRpYyBnZXRPdXRwdXRNaW1lVHlwZSgpIHtcbiAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICB9XG5cbiAgY29tcGlsZVN5bmMoc291cmNlQ29kZSwgZmlsZVBhdGgpIHtcbiAgICBDU09OID0gQ1NPTiB8fCByZXF1aXJlKCdjc29uJyk7XG4gICAgbGV0IHJlc3VsdCA9IENTT04ucGFyc2Uoc291cmNlQ29kZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IEpTT04uc3RyaW5naWZ5KHJlc3VsdCksXG4gICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgfTtcbiAgfVxuXG4gIGdldENvbXBpbGVyVmVyc2lvbigpIHtcbiAgICByZXR1cm4gcmVxdWlyZSgnY3Nvbi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICB9XG59XG4iXX0=